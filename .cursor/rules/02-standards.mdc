---
description: Code quality, safety, testingâ€”scale rigor with complexity.
globs:
alwaysApply: true
---

# Code Standards

## Quality
- Clear, idiomatic; **strict typing**; small composable functions.
- Focused diffs; follow existing patterns; fix linter warnings.

## Safety (scale with risk)
- Handle errors, null/undefined; validate inputs.
- APIs: schema validation (Zod); Auth: XSS/CSRF/injection guards.

## Testing (scale with scope)
- Refactors: unit tests. Features/APIs: integration tests. Bugs: regression test.
- Trivial UI: manual OK. Keep tests fast & deterministic.
